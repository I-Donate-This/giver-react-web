language: node_js
node_js:
- '10'
cache:
  directories:
  - node_modules
script:
- npm test
- npm run build
deploy:
  provider: s3
  access_key_id: AKIAIZFKPTX6Q3ZZWZLA
  secret_access_key:
    secure: UB1FwpMAGhJzywUrY3o8n3FkwlbS8DhwkFJ4wVd3SV6NS/9VR7QQLgH8HQJg6iiuQes5stgO/0+HW2ybaTz9Ij5F58VIul2Kya+TMMOOf+iHYr3IVGNIcRNZwK4HtDV3P6CWlqDUHTLdGJvA9GjntlcKJxlZo/ZfW+RmI4OOAd2NB49r2UcW7vZe1Opy7zWm+ue7T0KDIziY7+8dMShVTr9FocKqLMtwyVlZD6eEZj5Hcg7UHs7F3MVf0VBh7C0LRgB/OJiYsn1G2Cs1oCJFQazGcf9r0XzMM+IP6r+H8gjTaJiyK6fU9DStZc7wVnyUe69rsDFlc0MuxJHJfTwuwizaCL40jHZy68/MYQptwkXfAzjjiINdrnA2SMiZd2X7DtsQUwIp895lONxU/8eGyfVLFv7qnDVLW9xj2OsAjyYoBmD13hvkACBMU+wb67geq+E3K+6zDc5GPcixGz0FoEFKQ5GDIEuWGPTnj9+G4Vu/mgQIuvwk2wuN16jHZoXIl6t3cpQ43oGtACWenTYArQsKerEYQX5Fs+4P0h/wqj9ZAdG0TtsNr4KSy1/BVulwnPbOcIynHmuUO/dg5jmHC8tlyhiN7TanmJ28vJTIqljelqRF+ta3amrej01En7d+ghJCVnyN1jfJSs1K3s1ih/Dj5u1I0gidYh5EVfaYc5Y=
  bucket: giver-web
  skip_cleanup: true
  region: ca-central-1
  local_dir: build
  on:
    branch: develop
notifications:
  email:
    recipients:
    - peter.yu@nexxspace.com
    on_success: never
    on_failure: always
