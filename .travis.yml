language: node_js
node_js:
- '10'
cache:
  directories:
  - node_modules
script:
- npm test
- npm run build
deploy:
  provider: s3
  access_key_id: AKIAJF6YDG7SFGGNTL7Q
  secret_access_key:
    secure: a19GuPmqFMhkBczeg2UigTxAcdFqVij0BSQ6sKdUg9TiVu7qKofcfPEUiPevXcha9SzSsKx5RIfrgxqsJmfrac7fRJuk8YwFtOLJxT6eHR71s9Hvw1PA8qWkYwEOrvRmZPDI4aI7yHqjA3hjF9Jw2/hsUold1rSbfHcsh9E0TREWKJgBJkJDGmytu05i4fs+1lUoMJkFonsFd32QT9sIb0yVK1wUHFYUw8o7fVWKFQZ+P4SKwID5HlMSVouZP6HB1yeGeSdV1MyqOnwrXIXvNT9CBDWaM25O2YbU05tByjc70H0vFEbkZs0xjCHIyDAnWk3e361sTcJPZ2wDKlowZR+WFCHGjOjew4cFko1ZarR0/KRa4RO80flkCLhLV/PsSs5waUYX5U4++81hqVFrdSL6NJ65+rnjZxEwnlRlztqy/0KexvaWZWQBTmlFstu2Dm3NaXWW6Dh4jgq6PeJGzgayQX7iYAgUCHp+FDBwn18E0lMsj0MK6I8NZF4RhcIt7SOYb8tslDBFjd+fP+z4XcLwroH1tvHaGwxOyQO2Nx4LeSO36eoCRfOYbgAb3FDZWjKGzAxEuSgi/HENdHGuIuq6M65QO89Fe/Ncx2UtmpDKrcEU12I1ZVAZ1U/f1JMtqjY2j3KwfWCgERPVqkHBc+qMGMPkXVVRk8iODR7XeMc=
  bucket: giver-web
  skip_cleanup: true
  region: ca-central-1
  local-dir: build
  on:
    branch: develop
notifications:
  email:
    recipients:
    - peter.yu@nexxspace.com
    on_success: never
    on_failure: always
