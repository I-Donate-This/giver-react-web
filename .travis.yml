language: node_js
node_js:
- '10'
cache:
  directories:
  - node_modules
script:
- npm test
- npm run build
deploy:
  provider: s3
  access_key_id: AKIAIZFKPTX6Q3ZZWZLA
  secret_access_key:
    secure: UdXMOP1vWGuqpttJLtOXer88+decs7tWsqMP+UwDdYOYaOLSgUnWp12W+JhbD9SRD6/32bAYSsDNWd9BjIZaSqnfvpYeRkQCRpoLv6SFQlA43YeL+mbfunRGOKjbpV6sNRZSmAxuLxJvtbSw0K8adrHoAxkAq3VvOqGkByVNXoyshTeNOZGGWRqD6JZgdM5RFO6W0ZR12nTU9cjmCoJIoSqmZVxZzqmhWZ0D5l1WtSNhhqcz5QC+It9zkAka8izXwViwFwVib7lJACu43OJ0AZcFYxWRAoH+5fDLZGsR44SjjKJDG4nzI3/WsekdnSiIr53uzdbaxi69xjRCj+7PwmfE/CVHXRQS/JjUFmBUdyLiszWK9xLQ6pxxmTeRAhb2VkcFazNPT16fGyxal/h+iCgQLp1EJq0uh8NDgY53kLWzMjY/z4T4+8Dqlvs09QL24V7tpmkVAvi1paM1GNJ4vbf4mb4SwHpskg4iU+HIlkEneOM7MM0SItv9XHKotPRG6vg/+gCbdN+sMnM9l4mjvKet+QZ+szQ5h7q7LaapRBRb6OByD1rdzG8KQFU+K7J4MOO1M+NOD5Xk6QCCT5Th1Vu3ShPzPcNnjNOeZCJELbbmfJE1fxPx7w1XXfdgDGH428oq1suhokJ5u2Sw9P343gae85UEDRCWGU96dEYy6/Q=
  bucket: giver-web
  skip_cleanup: true
  region: ca-central-1
  local_dir: build
  on:
    branch: develop
notifications:
  email:
    recipients:
    - peter.yu@nexxspace.com
    on_success: never
    on_failure: always
