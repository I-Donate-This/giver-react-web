language: node_js
node_js:
- '10'
cache:
  directories:
  - node_modules
script:
- npm test
- npm run build
deploy:
  provider: s3
  access_key_id: AKIAIQAG7ELP7D3RHESA
  secret_access_key:
    secure: a93xjzJ0OSRWEaZ4Or2oHl4GZhB0k6SpkfND07rtyi94htSpEDMp0dJ1r0ZEumlFLJ9ApENR8Ru+vxzsesaiyES9cgyEhcWuKMYHok8E8rx2RUztmdM1qjc864SrfXUV0mzYmAxv3+UTIz3Hsnn3dZek/6ZswpKXXbB49GNF780WbKCRafbb2OdaxAJUVs9LAj7PsWowLc3xTLtA1CznMEvKj2frjyGl8Dk+TtEMrvXAEIhqi6NM2OYhiFIjxiX6/rSoPKrzrvWeLJZYLvIhk4YFJsAjV/EHkL2HZbTXr2CrSS78AjrBA6suptHMJHdmBZjBzEgOmFdljRSR+WRzcB2wVPLwDW85B5dn3aQI4MZvVXVxelE6dAlHyfoDzGuUeCTWd2aTZE64kzIx0d5Y7ZibNTEX7qtfTR4AHEESGILhWc39pCM7TV/IVJqL0v4YDTPOONMSXNgfAoQGsb7xTIbHlehH+xHUlbc6Tb+syLAHL+ZACXdJyhzhpDKp3b9dcDihEab2oe/f5uonlQYXJ8tldIMunAqnDY7j1tgS6ov6q/3VsWs8XNXDj7hH4Kj2Mc1NIU2bFHUR89e2XTNV4Vat8Vn0meqsZqvHRfcbkGEqq4P1gBs3mJcCTGC1lIARdP6O1SvsQ88SWJA8dtMiWpWIeNFiQtSRl9g6iVR+9v0=
  bucket: giver-web
  skip_cleanup: true
  region: ca-central-1
  local-dir: build
  acl: public_read
  on:
    repo: I-Donate-This/giver-react-web
    branch: develop
notifications:
  email:
    recipients:
    - peter.yu@nexxspace.com
    on_success: never
    on_failure: always
