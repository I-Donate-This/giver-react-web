language: node_js
node_js:
- '10'
cache:
  directories:
  - node_modules
script:
- npm test
- npm run build
deploy:
  provider: s3
  access_key_id: AKIAJF6YDG7SFGGNTL7Q
  secret_access_key:
    secure: hzIZtzYfYIWOV+YPQa+SemDPfLQRYyBtOrEkJPY++TA8QBktJrsBQdM4I85zXeMcZaezuy8WPP+WEjQZBlSAB0XqjqfpCrWjQct0kG+LQCWuHzhRVtyRY9gVoSiKIGM9R/dliCOuo32tAICOCI+GAOn7bvjOPxcxv4g1JbeNcIrvcmiAoGgProlL6ICiwLLGABuO2pKEaTHoROxGsJzZEFoWwjcSPQbPnUVHX4Jfk+YqbKgzbC00j+h7S/qoPLUCHRnVl2ZhZriX+hFtLC+Vm9iBeFJjxxK0Qn94JXi1DHFemunr73qBgzmENUPlulOu0AxLJhwm3fsD0dFFsyInXnSHXHYTJoKcnNtx3kTFfRYC9xNSAGbdBIzry3GXxpvJyUANinTUDPus9b3TQSDYlUMb/QumejQ3K293evpZo+3q490O0uDehGpacm6ZD5adf+UN7UX+57kEvd/AI50ELQqGsuPTAhnK1ttbIqPdn41P0uFIZhI18eXCWFFpXiTrVXSGphZzz2oEDE453Ta0ZcpBE7/Sj4hbA7cwRVmnxfC7JUWm+FbbF1/ZmZel1TiDAGyG+NWWVpg8bh/bI8ZcXOAx1pLjqbXHR3F8jZRXxQXXdrJmSZ3k52yz3O1T+xekOFieyFXkDnfVqlrFOM4eN0ksRQEwUyZakVQYAOVSX4w=
  bucket: giver-web
  skip_cleanup: true
  region: ca-central-1
  local-dir: build
  on:
    repo: I-Donate-This/giver-react-web
    branch: develop
notifications:
  email:
    recipients:
    - peter.yu@nexxspace.com
    on_success: never
    on_failure: always
