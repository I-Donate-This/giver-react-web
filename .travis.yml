language: node_js
node_js:
- '10'
cache:
  directories:
  - node_modules
script:
- npm test
- npm run build
deploy:
  provider: s3
  access_key_id: AKIAJJFUG353BIMRJBFA
  secret_access_key:
    secure: cPB4VUAxquzOSYQfyMkb9TUr0lqjaePV9WIILUueJTzcSjMMMJ9CwC4tPfymfhrl/ZQGJTcK9IHXYJIJWHZhnaGjYhEdDPCCwNEfSHlS5jwiaj9wCkKmupo6kWQuLLCPWXf447oqIC1n+FVrPreuuxJVo5CAtnnzfSKvQcJ3qOJKe+0usy48B3ShT7sLiX9pGhjR3TIp5pj8YsYJMK+6RRzTF+wlDuQjwGWBurH/fA0exI49Ydd91pMIgqoPEFfbR7djlMTJKPTUKgCGsJV8qbHAi4yZl/Lt6V7tORR+AQYLLllLBNc62Hr5jQsbk7yrMl3YPe7gPB4LfLvKjonq7FMPJZULd4bNUSIw95IevcqmTo+WhMe78IKihQNyv52OH/oaOagh/hcsIvXkl9Oj9OgUt0G/VvL32gd+YUHmeBbCrHAoj+9Ur8C+2HPi6VORtaCqwYp5Obv3M1TyYFSwXwsRqnd7yROnwdQBQR/veMkbvgJZlwSS8K8hHaBNY7aFb3dsWgXO666c/I++Z2ni5YmtsVxjglZXm4J3FLGJ5gqlJbxEmyx3P42H183p0xsmsAdzdX7X9UWB8aqJaSnq0b6v69+RbWHV8z+sS7P+8DORsTU+qMY2mxtM+v0FcmfUEiffrVYLAoUYQRDp2wbNyf2LIGivVQAeT3gMmxBGSoA=
  bucket: giver-web
  skip_cleanup: true
  region: ca-central-1
  local-dir: build
  on:
    repo: I-Donate-This/giver-react-web
    branch: develop
notifications:
  email:
    recipients:
    - peter.yu@nexxspace.com
    on_success: never
    on_failure: always
