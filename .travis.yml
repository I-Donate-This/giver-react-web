language: node_js
node_js:
- '10'
cache:
  directories:
  - node_modules
script:
- npm test
- npm run build
deploy:
  provider: s3
  access_key_id: AKIAJF6YDG7SFGGNTL7Q
  secret_access_key: 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
  bucket: giver-web
  skip_cleanup: true
  region: ca-central-1
  local-dir: build
  on:
    branch: develop
notifications:
  email:
    recipients:
    - peter.yu@nexxspace.com
    on_success: never
    on_failure: always
