language: node_js
node_js:
- '10'
cache:
  directories:
  - node_modules
script:
- npm test
- npm run build
deploy:
  provider: s3
  access_key_id: AKIAIZFKPTX6Q3ZZWZLA
  secret_access_key:
    secure: NG2DXRd6Y+rI97928d9j+SxYGZvrFc+Z525cChNmpAyAdcUtu88S74K3Wto8Co9UNieMp+NVia3byItQjsWQeXjv700lHwRArrNZlLgd6N1hMIOSLY/wtpiohdXFdpgc5tIpCeFhMtrpMW/1+Gh5g8fcIRg6XB8VwguwP1qPwvTU8SmAklTqhpWgo0iLz+ykPUDSWKUbfDFN9IaXJlUTygi5S/jILFb/jYmSqMZ6Sp9g5ACzGdPp3OIpFCIZHMiSUki3dIeNqYD97hFz457nLFlvNYPiIzuW7KpCTxhSGTXYdKm8uinPNWSO3qlIH2/G1gwlEGi01VirS+8QCx1s2gLf5ycWfPoF7vVmS5hTJ3I81zS26wjwTPaQh/3XaPguclLUtKXkvCktc4JOsuEr2WevwOQNWFqzrLFB7I1omw6gYITcoK/hOUVhQL6QTDSSUKD0sr/j6/3FkNCrfPGcDJ5dwTvG5lth4qLGk2RVTQ5epZY2jszF56tO2X5gy7NB2/iMFQ8RUjElhE4w2cpgaeRt/2aLJrEHo1I77xdOzs11pApfIZfB+2SzdHet0O5DnFrmNthgej2i3W336UV3Qf5A6lL9gwAQPrYnsjxKjHovc3CDguBuKVdd/IH+bAsaAtQ2byoFFA7DYgZosUVCnAr7UgmN6MNj8qlh6/nW46o=
  bucket: giver-web
  skip_cleanup: true
  region: ca-central-1
  local-dir: build
  acl: public_read
  on:
    repo: I-Donate-This/giver-react-web
    branch: develop
notifications:
  email:
    recipients:
    - peter.yu@nexxspace.com
    on_success: never
    on_failure: always
